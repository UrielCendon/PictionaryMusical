<Window x:Class="PictionaryMusicalCliente.VentanaJuego"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:language="clr-namespace:PictionaryMusicalCliente.Properties.Langs"
        xmlns:convertidores="clr-namespace:PictionaryMusicalCliente.Convertidores"
        mc:Ignorable="d"
        Title="{x:Static language:Lang.partidaAdminTextoIniciarPartida}"
        Width="1180" Height="730" WindowStartupLocation="CenterScreen"
        Background="Wheat">
    <Window.Resources>
        <convertidores:ConvertidorBooleanoVisibilidad x:Key="BooleanoVisibilidadColapsar" />
    </Window.Resources>
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="220"/>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="320"/>
        </Grid.ColumnDefinitions>

        <Grid Grid.Column="0" Margin="8" Background="Wheat">
            <Grid.RowDefinitions>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <ScrollViewer Grid.Row="0" VerticalScrollBarVisibility="Auto">
                <StackPanel>
                    <Border Margin="6" Background="White" BorderBrush="Black"
                            BorderThickness="2" CornerRadius="3">
                        <StackPanel>
                            <TextBlock Text="{x:Static language:Lang.partidaTextoJugadores}"
                                       FontWeight="Bold" FontFamily="Comic Sans MS"
                                       HorizontalAlignment="Center" Margin="4"/>

                            <ItemsControl ItemsSource="{Binding Jugadores}" FontFamily="Comic Sans MS"
                                          Margin="4">
                                <ItemsControl.ItemTemplate>
                                    <DataTemplate>
                                        <Grid Margin="2">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="Auto"/>
                                                <ColumnDefinition Width="Auto"/>
                                            </Grid.ColumnDefinitions>

                                            <TextBlock Grid.Column="0" Text="{Binding Nombre}"
                                                       VerticalAlignment="Center"/>

                                            <TextBlock Grid.Column="1" Text="{Binding Puntos}"
                                                       FontWeight="Bold" Margin="10,0"
                                                       HorizontalAlignment="Right"
                                                       Visibility="{Binding DataContext.JuegoIniciado, RelativeSource={RelativeSource AncestorType=ItemsControl}, Converter={StaticResource BooleanoVisibilidadColapsar}}"/>

                                            <Button Grid.Column="2" Background="Transparent"
                                                    BorderThickness="0"
                                                    Command="{Binding ExpulsarComando}"
                                                    Visibility="{Binding MostrarBotonExpulsar, Converter={StaticResource BooleanoVisibilidadColapsar}}"
                                                    Cursor="Hand" ToolTip="Expulsar jugador">
                                                <Image Source="/Recursos/Rechazar.png" Width="18"
                                                       Height="18"/>
                                            </Button>
                                        </Grid>
                                    </DataTemplate>
                                </ItemsControl.ItemTemplate>
                            </ItemsControl>
                        </StackPanel>
                    </Border>

                    <Button Margin="6"
                            Content="{x:Static language:Lang.invitarAmigosTextoInvitarAmigos}"
                            FontFamily="Comic Sans MS" Background="LightGreen"
                            Command="{Binding InvitarAmigosComando}"
                            Visibility="{Binding PuedeInvitarAmigos, Converter={StaticResource BooleanoVisibilidadColapsar}}"/>

                    <Border Margin="6" Background="White" BorderBrush="Black" BorderThickness="2"
                            CornerRadius="3" Visibility="{Binding PuedeInvitarPorCorreo, Converter={StaticResource BooleanoVisibilidadColapsar}}">
                        <StackPanel Margin="8">
                            <TextBlock Text="{x:Static language:Lang.globalTextoCorreo}" FontWeight="Bold"
                                       Margin="0,0,0,6" HorizontalAlignment="Center"
                                       FontFamily="Comic Sans MS"/>

                            <TextBox x:Name="campoTextoCorreoInvitacion" Height="28" Margin="0,0,0,6"
                                     MaxLength="50" Text="{Binding CorreoInvitacion, UpdateSourceTrigger=PropertyChanged}"/>

                            <Button Content="{x:Static language:Lang.partidaAdminTextoInvitarCorreo}"
                                    Background="LightGreen" FontFamily="Comic Sans MS"
                                    Command="{Binding InvitarCorreoComando}"/>
                        </StackPanel>
                    </Border>

                    <Border Margin="6" Background="White" BorderBrush="Black" BorderThickness="2"
                            CornerRadius="3">
                        <StackPanel Margin="8">
                            <TextBlock Text="{x:Static language:Lang.partidaTextoCodigo}" FontWeight="Bold"
                                       Margin="0,0,0,6" HorizontalAlignment="Center"
                                       FontFamily="Comic Sans MS"/>

                            <TextBlock Text="{Binding CodigoSala}" FontSize="16" FontWeight="Bold"
                                       HorizontalAlignment="Center" FontFamily="Comic Sans MS"/>
                        </StackPanel>
                    </Border>
                </StackPanel>
            </ScrollViewer>

            <Grid Grid.Row="1" Margin="6,10,0,8">
                <Button Name="botonAjustesPartida" Content="{x:Static language:Lang.globalTextoAjustes}"
                        FontWeight="Bold" HorizontalAlignment="Left" VerticalAlignment="Bottom"
                        Height="35" Width="107" FontFamily="Comic Sans MS"
                        Command="{Binding AbrirAjustesComando}"/>
            </Grid>

        </Grid>

        <Grid Grid.Column="1" Margin="8">
            <Grid.RowDefinitions>
                <RowDefinition Height="48"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="90"/>
            </Grid.RowDefinitions>

            <DockPanel Grid.Row="0" Background="Red" LastChildFill="False">
                <TextBlock Text="{x:Static language:Lang.partidaTextoRonda}"
                           Foreground="Black" FontSize="18" VerticalAlignment="Center"
                           Margin="10,0,0,0" FontFamily="Comic Sans MS" DockPanel.Dock="Left"
                           Visibility="{Binding MostrarEstadoRonda, Converter={StaticResource BooleanoVisibilidadColapsar}}"/>

                <TextBlock Text="{Binding NumeroRondaActual}" Foreground="Black" FontSize="18" FontWeight="Bold"
                           VerticalAlignment="Center" Margin="5,0,0,0" FontFamily="Comic Sans MS"
                           DockPanel.Dock="Left"
                           Visibility="{Binding MostrarEstadoRonda, Converter={StaticResource BooleanoVisibilidadColapsar}}"/>

                <Grid DockPanel.Dock="Right" HorizontalAlignment="Right"
                      VerticalAlignment="Center" Margin="0,0,20,0"
                      Visibility="{Binding MostrarEstadoRonda, Converter={StaticResource BooleanoVisibilidadColapsar}}">
                    <Ellipse Width="50" Height="50" Fill="White" Stroke="Black" StrokeThickness="2"/>
                    <TextBlock x:Name="txtContador" Text="{Binding TextoContador}" FontSize="20"
                               FontWeight="Bold" Foreground="{Binding ColorContador}"
                               HorizontalAlignment="Center" VerticalAlignment="Center"
                               FontFamily="Comic Sans MS"/>
                </Grid>

                <TextBlock x:Name="campoTextoPalabraAdivinar" Text="{Binding PalabraAdivinar}"
                           Foreground="{Binding ColorPalabraAdivinar}" FontSize="25" FontWeight="Bold"
                           VerticalAlignment="Center" HorizontalAlignment="Center"
                           FontFamily="Comic Sans MS" DockPanel.Dock="Top"
                           Visibility="{Binding VisibilidadPalabraAdivinar}"/>
            </DockPanel>

            <Border Grid.Row="1" BorderBrush="Black" BorderThickness="1" Background="White">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="*" />
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>

                    <Grid x:Name="cuadriculaDibujo" Grid.Row="0"
                          Visibility="{Binding VisibilidadCuadriculaDibujo}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>

                        <DockPanel Grid.Row="0" Margin="4"
                                  Visibility="{Binding EsDibujante, Converter={StaticResource BooleanoVisibilidadColapsar}}">
                            <StackPanel Orientation="Horizontal" DockPanel.Dock="Left" Margin="0,0,8,0">
                                <ToggleButton x:Name="toggleBotonLapiz" Width="55" Height="45"
                                              Margin="0,0,0,0" Cursor="Hand"
                                              IsChecked="{Binding EsHerramientaLapiz}"
                                              Command="{Binding SeleccionarLapizComando}"
                                              ToolTip="{x:Static language:Lang.partidaTooltipLapiz}"
                                              Background="Transparent" BorderBrush="Transparent">
                                    <Image Source="/Recursos/Lapiz.png" Stretch="Uniform"/>
                                </ToggleButton>

                                <ToggleButton x:Name="toggleBotonBorrador" Width="55" Height="45"
                                              Margin="0,0,0,0" Cursor="Hand"
                                              IsChecked="{Binding EsHerramientaBorrador}"
                                              Command="{Binding SeleccionarBorradorComando}"
                                              ToolTip="{x:Static language:Lang.partidaTooltipBorrador}"
                                              Background="Transparent" BorderBrush="Transparent">
                                    <Image Source="/Recursos/Borrador.png" Stretch="Uniform"/>
                                </ToggleButton>

                                <Button x:Name="botonLimpiar" Width="55" Height="45"
                                        Margin="0,0,0,0" Command="{Binding LimpiarDibujoComando}"
                                        ToolTip="{x:Static language:Lang.partidaTooltipLimpiar}"
                                        Background="Transparent" BorderBrush="Transparent">
                                    <Image Source="/Recursos/Limpiar_Todo.png" Stretch="Uniform"/>
                                </Button>
                            </StackPanel>

                            <StackPanel Orientation="Horizontal" DockPanel.Dock="Left" Margin="0,0,8,0">
                                <Button Tag="2" Command="{Binding CambiarGrosorComando}" 
                                        CommandParameter="2" Width="28" Height="28" Margin="2">
                                    <Ellipse Width="6" Height="6" Fill="Black"/>
                                </Button>
                                <Button Tag="6" Command="{Binding CambiarGrosorComando}" 
                                        CommandParameter="6" Width="28" Height="28" Margin="2">
                                    <Ellipse Width="12" Height="12" Fill="Black"/>
                                </Button>
                                <Button Tag="12" Command="{Binding CambiarGrosorComando}" 
                                        CommandParameter="12" Width="28" Height="28" Margin="2">
                                    <Ellipse Width="18" Height="18" Fill="Black"/>
                                </Button>
                            </StackPanel>

                            <StackPanel Orientation="Horizontal" DockPanel.Dock="Left">
                                <Button Tag="Black" Command="{Binding CambiarColorComando}" 
                                        CommandParameter="Black" Width="28" Height="28" Margin="2">
                                    <Ellipse Width="18" Height="18" Fill="Black" Stroke="#333" 
                                             StrokeThickness="0.5"/>
                                </Button>
                                <Button Tag="Red" Command="{Binding CambiarColorComando}" 
                                        CommandParameter="Red" Width="28" Height="28" Margin="2">
                                    <Ellipse Width="18" Height="18" Fill="Red" Stroke="#333" 
                                             StrokeThickness="0.5"/>
                                </Button>
                                <Button Tag="Blue" Command="{Binding CambiarColorComando}" 
                                        CommandParameter="Blue" Width="28" Height="28" Margin="2">
                                    <Ellipse Width="18" Height="18" Fill="Blue" Stroke="#333" 
                                             StrokeThickness="0.5"/>
                                </Button>
                                <Button Tag="Green" Command="{Binding CambiarColorComando}" 
                                        CommandParameter="Green" Width="28" Height="28" Margin="2">
                                    <Ellipse Width="18" Height="18" Fill="Green" Stroke="#333" 
                                             StrokeThickness="0.5"/>
                                </Button>
                                <Button Tag="Orange" Command="{Binding CambiarColorComando}" 
                                        CommandParameter="Orange" Width="28" Height="28" Margin="2">
                                    <Ellipse Width="18" Height="18" Fill="Orange" Stroke="#333" 
                                             StrokeThickness="0.5"/>
                                </Button>
                                <Button Tag="Purple" Command="{Binding CambiarColorComando}" 
                                        CommandParameter="Purple" Width="28" Height="28" Margin="2">
                                    <Ellipse Width="18" Height="18" Fill="Purple" Stroke="#333" 
                                             StrokeThickness="0.5"/>
                                </Button>
                            </StackPanel>
                        </DockPanel>

                        <InkCanvas x:Name="ink" Grid.Row="1" Margin="4" Background="White"
                                   IsHitTestVisible="{Binding EsDibujante}"/>
                    </Grid>

                    <Button x:Name="botonIniciarPartida"
                            Grid.Row="1"
                            Content="{Binding TextoBotonIniciarPartida}"
                            IsEnabled="{Binding BotonIniciarPartidaHabilitado}"
                            Visibility="{Binding MostrarBotonIniciarPartida, Converter={StaticResource BooleanoVisibilidadColapsar}}"
                            Width="150" Height="42"
                            HorizontalAlignment="Center" VerticalAlignment="Center"
                            Margin="0,8,0,10"
                            FontFamily="Comic Sans MS" FontWeight="Bold"
                            Background="White" BorderBrush="Black"
                            Command="{Binding IniciarPartidaComando}"/>
                </Grid>
            </Border>

            <Grid x:Name="OverlayDibujante"
                  Grid.Row="1" Visibility="{Binding VisibilidadOverlayDibujante}"
                  Margin="20" Background="Transparent">

                <Image Source="/Recursos/Dibujante.png" Stretch="Uniform"/>

                <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                    <TextBlock Text="{x:Static language:Lang.dibujanteTextoTitulo}" 
                               FontFamily="Comic Sans MS" FontSize="36" FontWeight="Black" 
                               Foreground="Black" HorizontalAlignment="Center"/>

                    <TextBlock Text="{x:Static language:Lang.dibujanteTextoContenido}" 
                               FontFamily="Comic Sans MS" FontSize="10" FontStyle="Italic" 
                               Foreground="Black" HorizontalAlignment="Center" 
                               TextWrapping="Wrap" TextAlignment="Center" Margin="0,10,0,0"/>
                </StackPanel>
            </Grid>

            <Grid x:Name="OverlayAdivinador"
                  Grid.Row="1" Visibility="{Binding VisibilidadOverlayAdivinador}"
                  Margin="20" Background="Transparent">

                <Image Source="/Recursos/Adivinador.png" Stretch="Uniform"/>

                <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                    <TextBlock Text="{x:Static language:Lang.adivinadorTextoTitulo}"
                               FontFamily="Comic Sans MS" FontSize="36" FontWeight="Black"
                               Foreground="Black" HorizontalAlignment="Center"/>

                    <TextBlock Text="{x:Static language:Lang.adivinadorTextoContenido}"
                               FontFamily="Comic Sans MS" FontSize="12" FontStyle="Italic"
                               Foreground="Black" HorizontalAlignment="Center" TextWrapping="Wrap"
                               TextAlignment="Center" Margin="0,10,0,0"/>
                </StackPanel>
            </Grid>

            <Grid x:Name="OverlayTiempoTerminado"
                  Grid.Row="1" Visibility="{Binding VisibilidadOverlayAlarma}"
                  Margin="20" Background="Transparent">

                <Image Source="/Recursos/Reloj_Alarma.png" Stretch="Uniform"/>

                <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                    <TextBlock Text="{x:Static language:Lang.partidaTextoTiempoTerminado}"
                               FontFamily="Comic Sans MS" FontSize="36" FontWeight="Black"
                               Foreground="Black" Margin="0,75,0,0"
                               TextAlignment="Center" TextWrapping="Wrap" Width="254"/>
                </StackPanel>
            </Grid>

            <Grid Grid.Row="2" Background="Red">
                <Grid x:Name="gridInfoCancion" Background="Transparent"
                      HorizontalAlignment="Center" VerticalAlignment="Center"
                      Visibility="{Binding VisibilidadInfoCancion}">
                    <StackPanel VerticalAlignment="Center" Margin="10,0,10,0">
                        <TextBlock x:Name="txtArtista" Text="{Binding TextoArtista}"
                                   Visibility="{Binding VisibilidadArtista}"
                                   Foreground="Black" FontFamily="Comic Sans MS"
                                   FontSize="16" FontWeight="Bold"
                                   HorizontalAlignment="Center" Margin="0,0,0,2"/>
                        <TextBlock x:Name="txtGenero" Text="{Binding TextoGenero}"
                                   Visibility="{Binding VisibilidadGenero}"
                                   Foreground="Black" FontFamily="Comic Sans MS"
                                   FontSize="16" FontWeight="Bold"
                                   HorizontalAlignment="Center"/>
                        <TextBlock x:Name="txtDibujoDe" Text="{Binding TextoDibujoDe}"
                                   Foreground="DarkBlue" FontFamily="Comic Sans MS"
                                   FontSize="14" FontStyle="Italic"
                                   HorizontalAlignment="Center" Margin="0,2,0,0"/>
                    </StackPanel>
                </Grid>
            </Grid>
        </Grid>

        <Grid Grid.Column="2" Margin="8">
            <Grid.RowDefinitions>
                <RowDefinition Height="40"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="40"/>
            </Grid.RowDefinitions>

            <Border Grid.Row="0" Background="LightYellow" BorderBrush="#FFD7D7A8" BorderThickness="1">
                <TextBlock Text="{x:Static language:Lang.partidaTextoChat}" FontWeight="Bold" 
                           FontSize="16" VerticalAlignment="Center" Margin="8,0,0,0" 
                           FontFamily="Comic Sans MS"/>
            </Border>

            <ScrollViewer x:Name="scrollChat" Grid.Row="1" Background="White" BorderBrush="Black" BorderThickness="1">
                <StackPanel x:Name="panelApilableChat" Margin="6"/>
            </ScrollViewer>

            <TextBox x:Name="campoTextoChat" Grid.Row="2" Background="LightYellow" BorderBrush="Black" BorderThickness="1"
                     Text="{Binding MensajeChat, UpdateSourceTrigger=PropertyChanged}"
                     IsEnabled="{Binding PuedeEscribir}" KeyDown="CampoTextoChat_KeyDown"/>
        </Grid>
    </Grid>
</Window>